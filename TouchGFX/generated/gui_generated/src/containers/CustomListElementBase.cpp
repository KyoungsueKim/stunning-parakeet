/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/containers/CustomListElementBase.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <touchgfx/Color.hpp>

CustomListElementBase::CustomListElementBase() :
    buttonCallback(this, &CustomListElementBase::buttonCallbackHandler)
{
    setWidth(413);
    setHeight(44);
    backgroundImage.setXY(0, 0);
    backgroundImage.setBitmap(touchgfx::Bitmap(BITMAP_LIST_ELEMENT_BACKGROUND_ID));
    add(backgroundImage);

    busCharacterScaleableImage.setBitmap(touchgfx::Bitmap(BITMAP_G_ID));
    busCharacterScaleableImage.setPosition(7, 4, 45, 36);
    busCharacterScaleableImage.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    add(busCharacterScaleableImage);

    busRideRequestButton.setXY(305, 4);
    busRideRequestButton.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUND_INACTIVE_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_36_TINY_ROUND_NORMAL_ID));
    busRideRequestButton.setLabelText(touchgfx::TypedText(T_REQUESTBELL));
    busRideRequestButton.setLabelColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    busRideRequestButton.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    busRideRequestButton.setAction(buttonCallback);
    add(busRideRequestButton);

    busArrivingTextArea.setXY(183, 13);
    busArrivingTextArea.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    busArrivingTextArea.setLinespacing(0);
    Unicode::snprintf(busArrivingTextAreaBuffer, BUSARRIVINGTEXTAREA_SIZE, "%s", touchgfx::TypedText(T_BUS_AR_00).getText());
    busArrivingTextArea.setWildcard(busArrivingTextAreaBuffer);
    busArrivingTextArea.resizeToCurrentText();
    busArrivingTextArea.setTypedText(touchgfx::TypedText(T_BUS_ARRIVING));
    add(busArrivingTextArea);

    busLineNumberTextArea.setXY(68, 14);
    busLineNumberTextArea.setColor(touchgfx::Color::getColorFromRGB(91, 91, 91));
    busLineNumberTextArea.setLinespacing(0);
    Unicode::snprintf(busLineNumberTextAreaBuffer, BUSLINENUMBERTEXTAREA_SIZE, "%s", touchgfx::TypedText(T_BUS_LN_00).getText());
    busLineNumberTextArea.setWildcard(busLineNumberTextAreaBuffer);
    busLineNumberTextArea.resizeToCurrentText();
    busLineNumberTextArea.setTypedText(touchgfx::TypedText(T_BUS_LINE_NUM));
    add(busLineNumberTextArea);
}

CustomListElementBase::~CustomListElementBase()
{

}

void CustomListElementBase::initialize()
{

}

void CustomListElementBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &busRideRequestButton)
    {
        //callBusInteraction
        //When busRideRequestButton clicked call virtual function
        //Call callBusAction
        callBusAction();
    }
}
